// = require maskedinput

jQuery(document).ready(function() {
  jQuery("#offer_semester").mask("9999.9");
});

jQuery(function() {

  /* Usado no formul√°rio */
  jQuery("#dt_start_date, #dt_end_date").datepicker({
    option: jQuery.datepicker.regional[global_config.locale.I18n],
    dateFormat: global_config.locale.dateFormat
  });

  jQuery("#save").click(function(){
    submit_form('offer_form', 'offer_form', '#{offers_path}', 'list_offers');
  });

  jQuery("#cancel").click(function(){
    removeLightBox();
  });

  /* Usado na listagem */
  jQuery('.edit').click(function(){
    open_lightbox3(jQuery(this).parent().attr('action'), "<%= I18n.t(:edit_offer, :scope => [:offers, :index]) %>");
  });

  jQuery('.deactivate_groups').click(function(){
    jQuery.ajax({
      type: 'POST',
      url: jQuery(this).parent().attr('action'),
      success: function(data){
        jQuery("#list_offers").html(data);
        flash_message("<%= I18n.t(:all_groups_deactivated, :scope => [:offers, :index]) %>", 'notice');
      },
      error: function(){
        flash_message("<%= I18n.t(:cant_deactivate, :scope => [:offers, :index]) %>", 'alert');
      }
    });
  });

});
